<!-- BACKDROP -->
<div class="update-backdrop" *ngIf="visible"></div>

<!-- MODAL WRAPPER -->
<div class="update-modal-wrapper" *ngIf="visible">
  <div class="update-modal glass-modal">
    <!-- CLOSE BUTTON -->
    <button class="close-btn" (click)="onCancel()">âœ•</button>

    <!-- TITLE -->
    <h2 class="title"><span class="highlight">EMS</span> Update Employee</h2>
    <p class="subtitle">Update employee details</p>

    <form #f="ngForm" (ngSubmit)="onUpdate(f)" class="form-space">
      <!-- NAME -->
      <div class="field">
        <label for="update-name" class="label">Full Name</label>
        <input
          id="update-name"
          type="text"
          name="name"
          [(ngModel)]="formModel.name"
          class="input"
          required
        />
      </div>

      <!-- AGE + GENDER -->
      <div class="row-2">
        <div class="field">
          <label for="update-age" class="label">Age</label>
          <input
            id="update-age"
            type="number"
            name="age"
            [(ngModel)]="formModel.age"
            class="input"
            min="18"
            required
          />
        </div>

        <div class="field">
          <label for="update-gender" class="label">Gender</label>
          <input
            id="update-gender"
            type="text"
            name="gender"
            class="input disabled"
            [(ngModel)]="formModel.gender"
            disabled
          />
        </div>
      </div>

      <!-- EMAIL -->
      <div class="field">
        <label for="update-email" class="label">Email</label>
        <input
          id="update-email"
          type="email"
          name="email"
          [(ngModel)]="formModel.email"
          class="input disabled"
          disabled
        />
      </div>

      <!-- DEPARTMENT + POSITION -->
      <div class="row-2">
        <div class="field">
          <label for="update-department" class="label">Department</label>
          <select
            id="update-department"
            name="department"
            class="input"
            [(ngModel)]="formModel.department"
            required
          >
            <option value="">Select</option>
            <option>Engineering</option>
            <option>QA</option>
            <option>IT Support</option>
            <option>HR</option>
            <option>Finance</option>
            <option>Sales</option>
            <option>Marketing</option>
            <option>Data Science</option>
          </select>
        </div>

        <div class="field">
          <label for="update-position" class="label">Position</label>
          <select
            id="update-position"
            name="position"
            class="input"
            [(ngModel)]="formModel.position"
            required
          >
            <option value="">Select</option>
            <option>Software Engineer</option>
            <option>Java Developer</option>
            <option>QA Engineer</option>
            <option>HR Executive</option>
            <option>Network Engineer</option>
            <option>Data Analyst</option>
          </select>
        </div>
      </div>

      <!-- SALARY -->
      <div class="field">
        <label for="update-salary" class="label">Salary</label>
        <input
          id="update-salary"
          type="number"
          name="salary"
          [(ngModel)]="formModel.salary"
          class="input"
          required
        />
      </div>

      <!-- BUTTONS -->
      <div class="actions">
        <button type="button" class="btn-cancel" (click)="onCancel()">Cancel</button>

        <button type="submit" class="btn-update" [disabled]="loading">
          <span *ngIf="loading">Updating...</span>
          <span *ngIf="!loading">Update</span>
        </button>
      </div>
    </form>
  </div>
</div>
