<div
  class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"
  *ngIf="visible"
>
  <div
    class="bg-white w-full max-w-xl mx-auto rounded-lg shadow-2xl border-t-8 border-blue-700 p-8 relative"
  >
    <!-- TITLE -->
    <h2 class="text-center text-3xl font-extrabold text-gray-900 mb-2">
      <span class="text-blue-700">EMS</span> Update Employee
    </h2>
    <p class="text-center text-base text-gray-600 mb-6">Update employee details</p>

    <!-- CLOSE BUTTON (TOP RIGHT) -->
    <button
      class="absolute right-4 top-4 text-gray-400 hover:text-gray-600 text-xl"
      (click)="onCancel()"
    >
      âœ•
    </button>

    <!-- UPDATE FORM -->
    <form #f="ngForm" (ngSubmit)="onUpdate(f)" class="space-y-6">
      <!-- NAME -->
      <div>
        <label class="block text-sm font-medium text-gray-700">Full Name</label>
        <input
          type="text"
          name="name"
          [(ngModel)]="formModel.name"
          placeholder="Enter full name"
          class="block w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:border-blue-500 text-gray-900"
          required
        />
      </div>

      <!-- AGE + GENDER -->
      <div class="grid grid-cols-2 gap-4">
        <!-- AGE -->
        <div>
          <label class="block text-sm font-medium text-gray-700">Age</label>
          <input
            type="number"
            name="age"
            [(ngModel)]="formModel.age"
            placeholder="Enter age"
            class="block w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:border-blue-500 text-gray-900"
            required
            min="18"
          />
        </div>

        <!-- GENDER -->
        <div>
          <label class="block text-sm font-medium text-gray-700">Gender</label>
          <select
            name="gender"
            [(ngModel)]="formModel.gender"
            class="block w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none bg-gray-100 text-gray-500   focus:border-blue-500 cursor-not-allowed"
            required
            disabled
            readonly
          >
            <option value="">Select gender</option>
            <option value="Male">Male</option>
            <option value="Female">Female</option>
            <option value="Other">Other</option>
          </select>
        </div>
      </div>

      <!-- EMAIL (READ ONLY) -->
      <div>
        <label class="block text-sm font-medium text-gray-700">Email</label>
        <input
          type="email"
          name="email"
          [(ngModel)]="formModel.email"
          placeholder="e.g., employee@company.com"
          class="block w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm bg-gray-100 text-gray-500 cursor-not-allowed"
          disabled
          readonly
        />
      </div>

      <!-- DEPARTMENT + POSITION -->
      <div class="grid grid-cols-2 gap-4">
        <!-- DEPARTMENT -->
        <div>
          <label class="block text-sm font-medium text-gray-700">Department</label>
          <select
            name="department"
            [(ngModel)]="formModel.department"
            class="block w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:border-blue-500 text-gray-900"
            required
          >
            <option value="">Select Department</option>
            <option>Engineering</option>
            <option>QA</option>
            <option>IT Support</option>
            <option>HR</option>
            <option>Finance</option>
            <option>Sales</option>
            <option>Marketing</option>
            <option>Data Science</option>
          </select>
        </div>

        <!-- POSITION -->
        <div>
          <label class="block text-sm font-medium text-gray-700">Position</label>
          <select
            name="position"
            [(ngModel)]="formModel.position"
            class="block w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:border-blue-500 text-gray-900"
            required
          >
            <option value="">Select Position</option>
            <option>Software Engineer</option>
            <option>Java Developer</option>
            <option>QA Engineer</option>
            <option>Network Engineer</option>
            <option>HR Executive</option>
            <option>Data Analyst</option>
          </select>
        </div>
      </div>

      <!-- SALARY -->
      <div>
        <label class="block text-sm font-medium text-gray-700">Salary</label>
        <input
          type="number"
          name="salary"
          [(ngModel)]="formModel.salary"
          placeholder="e.g., 45000"
          class="block w-full px-4 py-3 border border-gray-300 rounded-lg placeholder-gray-400 shadow-sm focus:outline-none focus:border-blue-500 text-gray-900"
          required
          min="0"
        />
      </div>

      <!-- BUTTONS -->
      <div class="flex items-center justify-between pt-4">
        <!-- CANCEL -->
        <button
          type="button"
          class="px-6 py-3 bg-gray-300 text-gray-800 rounded-lg hover:bg-gray-400 transition"
          (click)="onCancel()"
        >
          Cancel
        </button>

        <!-- UPDATE -->
        <button
          type="submit"
          class="px-8 py-3 bg-blue-700 text-white rounded-lg shadow-lg font-semibold hover:bg-blue-800 focus:outline-none focus:ring-3 focus:ring-offset-2 focus:ring-blue-500 transition duration-200 ease-in-out transform hover:scale-[1.02]"
          [disabled]="loading"
        >
          <span *ngIf="loading">Updating...</span>
          <span *ngIf="!loading">Update</span>
        </button>
      </div>
    </form>
  </div>
</div>
