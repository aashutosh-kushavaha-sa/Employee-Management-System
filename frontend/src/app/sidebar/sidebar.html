<!-- MOBILE TOGGLE BUTTON -->
<button
  class="lg:hidden fixed top-4 left-4 z-50 p-3 bg-blue-600 text-white rounded-lg shadow-lg hover:bg-blue-700 transition-colors duration-200"
  (click)="sidebarOpen = !sidebarOpen"
>
  <fa-icon [icon]="faBars"></fa-icon>
</button>

<!-- SIDEBAR -->
<div
  class="h-screen fixed top-0 left-0 flex flex-col overflow-y-auto p-6 border-r border-white/10 shadow-2xl transition-all duration-300 z-40 bg-linear-to-b from-slate-900/95 to-slate-800/95 backdrop-blur-xl w-64"
  [class.-translate-x-full]="!sidebarOpen"
  [class.translate-x-0]="sidebarOpen"
>

  <!-- Logo -->
  <div class="flex items-center justify-center mb-10">
    <span class="text-3xl font-extrabold tracking-wide text-yellow-300 drop-shadow-lg">
      EMS
    </span>
  </div>

  <!-- NAV MENU -->
  <nav class="flex flex-col gap-2 flex-1">

    <!-- DASHBOARD -->
    <a
      routerLink="/dashboard"
      routerLinkActive="active-link"
      class="nav-item"
      (click)="onNavClick()"
    >
      <fa-icon [icon]="faHouse" class="nav-icon"></fa-icon>
      <span>Dashboard</span>
    </a>

    <!-- MANAGE EMPLOYEES -->
    <button
      class="nav-item"
      (click)="toggleEmployees()"
    >
      <fa-icon [icon]="faManageEmp" class="nav-icon"></fa-icon>
      <span>Manage Employees</span>

      <fa-icon
        [icon]="faArrowDown"
        class="ml-auto transition-transform w-4"
        [class.rotate-180]="employeesOpen"
      ></fa-icon>
    </button>

    <!-- EMPLOYEES DROPDOWN -->
    <div *ngIf="employeesOpen" class="dropdown">
      <a 
        routerLink="/employees/all" 
        class="dropdown-item" 
        (click)="onNavClick()"
        routerLinkActive="active-dropdown-item"
      >
        <fa-icon [icon]="faList" class="text-yellow-300 w-4"></fa-icon>
        All Employees
      </a>

      <a 
        routerLink="/employees/add" 
        class="dropdown-item" 
        (click)="onNavClick()"
        routerLinkActive="active-dropdown-item"
      >
        <fa-icon [icon]="faAddEmp" class="text-yellow-300 w-4"></fa-icon>
        Add Employee
      </a>
    </div>

    <!-- ANALYTICS -->
    <a 
      routerLink="/chart" 
      routerLinkActive="active-link"
      class="nav-item" 
      (click)="onNavClick()"
    >
      <fa-icon [icon]="faChartArea" class="nav-icon"></fa-icon>
      <span>Analytics</span>
    </a>
    
    <!-- CREATE ADMIN -->
    <a 
      routerLink="/signup" 
      routerLinkActive="active-link"
      class="nav-item" 
      (click)="onNavClick()"
    >
      <fa-icon [icon]="userTie" class="nav-icon"></fa-icon>
      <span>Create Admin</span>
    </a>
    
  </nav>

  <!-- LOGOUT -->
  <button
    (click)="logout()"
    class="nav-item bg-red-600 hover:bg-red-700 text-white shadow-lg mt-auto"
  >
    <fa-icon [icon]="faLogout" class="nav-icon"></fa-icon>
    <span>Logout</span>
  </button>
</div>

<!-- MOBILE OVERLAY -->
<div
  class="fixed inset-0 bg-black/40 z-30 lg:hidden transition-opacity duration-300"
  *ngIf="sidebarOpen"
  (click)="sidebarOpen = false"
></div>